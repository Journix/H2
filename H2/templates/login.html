{% extends "base.html" %} {% block css %}
<style type="text/css">
.vertical-center{
  position: absolute;
  top: 25%;
}
</style>
{% endblock %} {% block content %}
<div class="container-fluid">
    <div class="row xui-login">
        <div class="panel panel-default col-md-4 col-md-offset-4 col-sm-8 col-sm-offset-2 vertical-center">
            <div class="panel-body">
                <form class="form-horizontal">
                    <div class="form-group">
                        <label for="in_username" class="col-sm-2 control-label">用户名</label>
                        <div class="col-sm-10">
                            <input type="username" class="form-control" id="in_username" placeholder="用户名">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="in_password" class="col-sm-2 control-label">密码</label>
                        <div class="col-sm-10">
                            <input type="password" class="form-control" id="in_password" placeholder="密码">
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-offset-2 col-sm-10">
                            <div class="checkbox">
                                <label>
                                    <input type="checkbox">记住我
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <ul class="col-sm-offset-2 col-sm-10">
                            <li class="btn btn-default xa-register">注册</li>
                            <li class="btn btn-primary xa-login">登录</li>
                        </ul>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block js %}

<script type="text/javascript">
//注册
$('.xa-register').click(function() {
    var username = $('#in_username').val();
    var password = $('#in_password').val();
    $.ajax({
        url:'/login/',
        type:'post',
        data:{
            '_method':'put',
            'username':username,
            'password':password
        },
        success:function(data,status){
            xlog(data.code);
            if(data.code==200){
                console.log('Create Success');
            }else{
                console.log('Create Fail:500');
            }
        },
        error:function(data,status){
            xlog('error');
            xlog(data);
            xlog(status);
        }
    });
});

//登录
$('.xa-login').click(function() {
    var username = $('#in_username').val();
    var password = $('#in_password').val();
    $.ajax({
        url:'/login/',
        type:'post',
        data:{
            '_method':"post",
            'username':username,
            'password':password
        },
        success:function(data,status){
            xlog(data.code);
            // if(data.code==200){
            //     console.log('Create Success');
            // }else{
            //     console.log('Create Fail:500');
            // }
        },
        error:function(data,status){
            xlog('error');
            xlog(data);
            xlog(status);
        }
    });
});


</script>

{% endblock %}